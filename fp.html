<html>
<head>
	<title>Special Message Decoder</title>
	<style>
	body {
		text-align: center;
		margin: 50px 0px 0px;
		padding: 0px;
		font-size: 15px;
		font-family: arial;
	}
	#container {
		margin-left: auto;
		margin-right: auto;
		width: 600px;
	}
	p {
		text-align: left;
	}
	textarea {
		width: 500px;
		height: 100px;
		margin: 25px;
		padding: 10px;
	}
	#button {
		width: 140px;
		border: 1px solid #000;
	}
	#answer {
		margin: 25px;
		text-align: left;
	}
	</style>
	<script>
	window.onload = function() {
		var code = {
			"a" : "!",
			"b" : "@",
			"c" : "#",
			"d" : "$", 
			"e" : "%",
			"f" : ":",
			"g" : "&",
			"h" : "*",
			"i" : "(",
			"j" : "1",
			"k" : "2",
			"l" : "3",
			"m" : "4",
			"n" : "5",
			"o" : "6",
			"p" : "7",
			"q" : "8",
			"r" : "9",
			"s" : "0",
			"t" : ")",
			"u" : "|",
			"v" : "\\",
			"w" : "<",
			"x" : ">",
			"y" : "?",
			"z" : "/",
			" " : " "
		}

		var key = {
			"!" : "a",
			"@" : "b",
			"#" : "c",
			"$" : "d", 
			"%" : "e",
			":" : "f",
			"&" : "g",
			"*" : "h",
			"(" : "i",
			"1" : "j",
			"2" : "k",
			"3" : "l",
			"4" : "m",
			"5" : "n",
			"6" : "o",
			"7" : "p",
			"8" : "q",
			"9" : "r",
			"0" : "s",
			")" : "t",
			"|" : "u",
			"\\" : "v",
			"<" : "w",
			">" : "x",
			"?" : "y",
			"/" : "z",
			" " : " "
		}

		document.getElementById("message").onkeyup = function() {
			var message = document.getElementById("message").value;
			document.getElementById("answer").innerHTML = decodeMessage(message, code);
		}
		document.getElementById("code").onkeyup = function() {
			var message = document.getElementById("code").value;
			document.getElementById("answer2").innerHTML = decodeMessage(message, key);
		}

		function decodeMessage(message, obj){
			var messageArr = message.split(''), // split it into array
				decodedArr = messageArr.map(function(char) { //map the array to one of the above key objects
					return obj[char];
				}),
				decodedMessage = decodedArr.join(''); // make it back into a string

				return decodedMessage;
		}
	}
	</script>
</head>
<body>
	<div id="container">
	<p>
	Can't work out the secret code Will,Jo, Asher and Mila used on your Christmas message? Enter below...
	</p>
	<textarea id="code">
	
	</textarea>
	<div id="answer2">

	</div>
	<p>Make your own secret message using the same secret language by typing in your message below...
	</p>
	<textarea id="message">

	</textarea>
	<div id="answer">

	</div>
	</div>

</body>
</html>